<!--<app-header></app-header>

<div style="width: 70%">
  <div class="example-sidenav-content">
    <button type="button" mat-button>
      Add
    </button>
  </div>
  <div class="example-sidenav-content">
    <button type="button" mat-button>
      Report
    </button>
  </div>

  <h2>Vacunados</h2>
  <div class="row">
    <div *ngFor="let animal of animals"
         class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3"
         style="padding: 50px; display: flex; justify-content: center;">
      <app-cart *ngIf="animal.vaccinated === true || animal.vaccinated === 'true'" [animal]="animal"></app-cart>

    </div>
  </div>

  <h2>No Vacunados</h2>
  <div class="row">
    <div *ngFor="let animal of animals"
         class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3"
         style="padding: 50px; display: flex; justify-content: center;">
      <app-cart *ngIf="animal.vaccinated === false || animal.vaccinated === 'false'" [animal]="animal"></app-cart>
    </div>
  </div>
</div>

<app-side style="width: 30%"></app-side>-->

<div style="background-color: gray">
  <h1>
    Veterinaria
  </h1>
  <button mat-button (click)="onLogout()">LOGOUT</button>

  <div style="background-color: green;">
    <input #box type="text" placeholder="Query">
    <button (click)="searchByName(box.value)">Search</button>
  </div>

</div>

<mat-drawer-container class="example-container" autosize>

  <mat-drawer #drawer style="width: 300px; height: 100%;" mode="side" [position]="'end'">
    <form [formGroup]="animalForm" style="display: flex; flex-direction: column">

      <h3>Crear/Editar animales</h3>
      <mat-form-field>
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="name" type="text">
      </mat-form-field>

      <div *ngIf="animalForm.get('name').invalid &&
                  (animalForm.get('name').touched ||
                  animalForm.get('name').dirty)"
           class="alert alert-danger">

        <div *ngIf="animalForm.get('name').errors.required">
          Nombre es requerido.
        </div>
        <div *ngIf="animalForm.get('name').errors.minlength">
          Nombre debe ser mínimo de 3 letras.
        </div>
      </div>

      <mat-form-field>
        <mat-label>Color</mat-label>
        <input matInput formControlName="color" type="text">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Edad</mat-label>
        <input matInput formControlName="age" type="text">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Vacunado</mat-label>
        <input matInput formControlName="vaccinated" type="text">
      </mat-form-field>

      <div *ngIf="animalForm.get('vaccinated').invalid &&
                  (animalForm.get('vaccinated').touched ||
                  animalForm.get('vaccinated').dirty)"
           class="alert alert-danger">

        <div *ngIf="animalForm.get('vaccinated').errors.required">
          Valor vacunación es obligatoria
        </div>
      </div>

      <mat-form-field>
        <mat-label>Url Imagen</mat-label>
        <input matInput formControlName="urlImage" type="text">
      </mat-form-field>
    </form>

    <button (click)="onCreateAnimal(); drawer.toggle()">Crear</button>
    <button (click)="onUpdateAnimal(); drawer.toggle()">Editar</button>
  </mat-drawer>

  <div class="example-sidenav-content">
    <button type="button" mat-button (click)="drawer.toggle()">
      Crear
    </button>
  </div>


  <h2>Vacunados</h2>

  <div class="row">

    <div *ngFor="let animal of animals"
         class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3"
         style="padding: 50px; display: flex; justify-content: center;">

      <mat-card *ngIf="(animal.vaccinated === true || animal.vaccinated === 'true') && (query== null || animal.name.includes(query))" class="example-card" style="background: {{animal.age < 3 ? 'orange' : 'red'}};">
        <mat-card-header>
          <mat-card-title>Nombre: {{animal.name | uppercase }}</mat-card-title>
        </mat-card-header>
        <img mat-card-image [src]="animal.urlImage" alt="Photo of a Shiba Inu">
        <mat-card-content>
          <p>Color: {{animal.color}}</p>
          <p>Edad: {{animal.age}}</p>
        </mat-card-content>
        <mat-card-actions>
          <button *ngIf="animal.age < 3" mat-button (click)="onEdit(animal); drawer.toggle()">Edit</button>
          <button mat-button (click)="onDeleteAnimal(animal.id)">Delete</button>
        </mat-card-actions>
      </mat-card>

    </div>
  </div>

  <h2>No Vacunados</h2>

  <div class="row">

    <div *ngFor="let animal of animals"
         class="col-12 col-sm-12 col-md-6 col-lg-3 col-xl-3"
         style="padding: 50px; display: flex; justify-content: center;">

      <mat-card *ngIf="(animal.vaccinated === false || animal.vaccinated === 'false') && (query== null || animal.name.includes(query))" class="example-card" style="background: {{animal.age < 3 ? 'orange' : 'red'}};">
        <mat-card-header>
          <mat-card-title>Nombre: {{animal.name | uppercase}}</mat-card-title>
        </mat-card-header>
        <img mat-card-image [src]="animal.urlImage" alt="Photo of a Shiba Inu">
        <mat-card-content>
          <p>Color: {{animal.color}}</p>
          <p>Edad: {{animal.age}}</p>
        </mat-card-content>
        <mat-card-actions>
          <button *ngIf="animal.age < 3" mat-button (click)="onEdit(animal); drawer.toggle()">Edit</button>
          <button mat-button (click)="onDeleteAnimal(animal.id)">Delete</button>
        </mat-card-actions>
      </mat-card>

    </div>
  </div>

</mat-drawer-container>

